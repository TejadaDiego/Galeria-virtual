<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mi Perfil</title>
    <link rel="stylesheet" href="Estilos/perfil.css">

    <style>
        .navbar {
            width: 100%;
            padding: 20px;
            background: #0d0b1f;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .navbar-links { display:flex; gap:20px; align-items:center; }
        .navbar-user-box img {
            width:45px; height:45px;
            border-radius:50%; border:2px solid #a569ff;
        }
    </style>
</head>

<body>

<nav class="navbar">
    <div class="navbar-logo">Galería Virtual</div>

    <div class="navbar-links">
        <a href="inicio.html">Inicio</a>
        <a href="Sobre_nosotros.html">Nosotros</a>
        <a href="Contenido.html">Contenido</a>
        <a href="publicar.html">Publicar +</a>

        <a id="btnLogin" href="login.html">Iniciar sesión</a>

        <div id="navbarUserBox" class="navbar-user-box"></div>
    </div>
</nav>

<div class="perfil-container">

    <img id="fotoPerfil" class="perfil-foto" src="img/default.png">

    <h1 id="nombrePerfil" class="perfil-nombre">Usuario</h1>

    <div class="perfil-info">
        <p><b>Correo:</b> <span id="correoPerfil"></span></p>
    </div>

    <div class="perfil-botones">
        <a href="editar-perfil.html" class="btn-perfil">Editar Perfil</a>
        <button class="btn-perfil" onclick="cerrarSesion()">Cerrar Sesión</button>
    </div>
</div>

<script>
    const user = JSON.parse(localStorage.getItem("usuarioActivo"));

    if (!user) window.location.href = "login.html";

    document.getElementById("fotoPerfil").src = user.foto || "img/default.png";
    document.getElementById("nombrePerfil").textContent = user.nombre;
    document.getElementById("correoPerfil").textContent = user.email;

    function cerrarSesion() {
        localStorage.removeItem("usuarioActivo");
        window.location.href = "login.html";
    }
</script>

<script src="Scripts/sesion-global.js"></script>

</body>
</html>
