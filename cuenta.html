<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cuenta</title>
    <link rel="stylesheet" href="Estilos/cuenta.css">
</head>

<body>

    <div class="cuenta-container">

        <h1>Cuenta de Usuario</h1>

        <!-- FOTO DEL USUARIO -->
        <img id="fotoCuenta" class="cuenta-foto" src="Img/default.png">

        <!-- NOMBRE Y CORREO -->
        <p class="cuenta-nombre" id="nombreCuenta">Cargando...</p>
        <p class="cuenta-correo" id="correoCuenta">Cargando...</p>

        <!-- BOTONES -->
        <div class="cuenta-opciones">
            <button onclick="cambiarFoto()" class="cuenta-btn">Cambiar foto</button>
            <button onclick="editarNombre()" class="cuenta-btn">Cambiar nombre</button>
            <button onclick="cerrarSesion()" class="cuenta-btn logout">Cerrar sesión</button>
        </div>

    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const user = JSON.parse(localStorage.getItem("usuario"));

    if (!user) {
        location.href = "login.html";
        return;
    }

    document.getElementById("fotoCuenta").src = user.foto || "Img/default.png";
    document.getElementById("nombreCuenta").textContent = user.nombre;
    document.getElementById("correoCuenta").textContent = user.correo;
});


/* -------- CAMBIAR FOTO -------- */
function cambiarFoto() {
    let nuevaFoto = prompt("Pega la URL de tu nueva foto:");

    if (!nuevaFoto) return;

    let user = JSON.parse(localStorage.getItem("usuario"));
    user.foto = nuevaFoto;

    localStorage.setItem("usuario", JSON.stringify(user));

    document.getElementById("fotoCuenta").src = nuevaFoto;
}


/* -------- CAMBIAR NOMBRE -------- */
function editarNombre() {
    let nuevoNombre = prompt("Nuevo nombre de usuario:");

    if (!nuevoNombre) return;

    let user = JSON.parse(localStorage.getItem("usuario"));
    user.nombre = nuevoNombre;

    localStorage.setItem("usuario", JSON.stringify(user));

    document.getElementById("nombreCuenta").textContent = nuevoNombre;
}


/* -------- CERRAR SESIÓN -------- */
function cerrarSesion() {
    localStorage.removeItem("usuario");
    location.href = "login.html";
}
</script>

</body>
</html>
