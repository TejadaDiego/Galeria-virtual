<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contenido - Galer√≠a Virtual</title>

  <!-- CSS correctos -->
  <link rel="stylesheet" href="Estilos/catalogo.css"/>
  <link rel="stylesheet" href="Estilos/Estilo.css"/>
  <link rel="stylesheet" href="Estilos/premium.css"/>

  <style>
      /* Estilo peque√±o para el header de usuario */
      .user-mini-box {
          display:flex;
          align-items:center;
          gap:8px;
          padding:5px 10px;
          background:#ffffff20;
          border-radius:8px;
          margin-left:10px;
      }

      .user-mini-box img {
          width:32px;
          height:32px;
          border-radius:50%;
          object-fit:cover;
          border:2px solid #b34cff;
      }

      .user-mini-box span {
          font-size:14px;
          color:#fff;
          font-weight:bold;
      }

      #btnLoginHeader a {
          color:#fff;
          background:#b34cff;
          padding:8px 14px;
          border-radius:6px;
          text-decoration:none;
          font-weight:bold;
      }

      #btnLoginHeader a:hover {
          background:#8e2cd6;
      }
  </style>
</head>

<body>

  <!-- NAVBAR -->
  <nav class="navbar">
      <ul class="navbar-menu">
          <li><a href="inicio.html">Inicio</a></li>
          <li><a href="Sobre_nosotros.html">Nosotros</a></li>
          <li><a href="Contenido.html" class="active">Contenido</a></li>
          <li><a href="publicar.html">Publicar +</a></li>
      </ul>

      <!-- Bot√≥n Iniciar Sesi√≥n -->
      <li id="btnLoginHeader" style="display:none;">
        <a href="login.html">Iniciar Sesi√≥n</a>
      </li>

      <!-- Carrito -->
      <div class="cart-box" onclick="location.href='carrito.html'">
          <span class="cart-count" id="cartCount">0</span> üõí
      </div>

      <!-- Foto + nombre -->
      <div id="navbarUserBox"></div>
  </nav>

  <!-- T√çTULO -->
  <h1 class="titulo">Trabajos Destacados</h1>

  <!-- CAT√ÅLOGO FIJO DE 10 PRODUCTOS -->
  <div id="catalogo" class="grid">

    <div class="card">
      <img src="img/11.jpg" alt="Ilustraci√≥n Digital">
      <h3>Ilustraci√≥n Digital</h3>
      <p>Ilustraci√≥n original en estilo digital, ideal para posters y portadas.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 30.00</span>
        <button onclick="agregarAlCarrito(1, 'Ilustraci√≥n Digital', 30, 'img/11.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/12.jpg" alt="Logo Minimalista">
      <h3>Logo Minimalista</h3>
      <p>Identidad visual minimal para marcas modernas.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 45.00</span>
        <button onclick="agregarAlCarrito(2, 'Logo Minimalista', 45, 'img/12.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/13.jpg" alt="Retoque Fotogr√°fico">
      <h3>Retoque Fotogr√°fico</h3>
      <p>Edici√≥n y correcci√≥n de color profesional.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 15.00</span>
        <button onclick="agregarAlCarrito(3, 'Retoque Fotogr√°fico', 15, 'img/13.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/14.jpg" alt="Dise√±o de Portada">
      <h3>Dise√±o de Portada</h3>
      <p>Portadas para libros, √°lbumes y publicaciones digitales.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 35.00</span>
        <button onclick="agregarAlCarrito(4, 'Dise√±o de Portada', 35, 'img/14.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/15.jpg" alt="Banner Publicitario">
      <h3>Banner Publicitario</h3>
      <p>Banners para redes y campa√±as publicitarias.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 25.00</span>
        <button onclick="agregarAlCarrito(5, 'Banner Publicitario', 25, 'img/15.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/16.jpg" alt="Render 3D">
      <h3>Render 3D</h3>
      <p>Modelado y renderizado para presentaciones profesionales.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 55.00</span>
        <button onclick="agregarAlCarrito(6, 'Render 3D', 55, 'img/16.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/17.jpg" alt="Ilustraci√≥n Anime">
      <h3>Ilustraci√≥n Anime</h3>
      <p>Retratos y escenas en estilo anime.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 40.00</span>
        <button onclick="agregarAlCarrito(7, 'Ilustraci√≥n Anime', 40, 'img/17.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/18.jpg" alt="Edici√≥n de Video">
      <h3>Edici√≥n de Video</h3>
      <p>Montaje y edici√≥n para contenido multimedia.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 60.00</span>
        <button onclick="agregarAlCarrito(8, 'Edici√≥n de Video', 60, 'img/18.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/19.jpg" alt="Fotograf√≠a Profesional">
      <h3>Fotograf√≠a Profesional</h3>
      <p>Sesi√≥n fotogr√°fica y postproducci√≥n.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 50.00</span>
        <button onclick="agregarAlCarrito(9, 'Fotograf√≠a Profesional', 50, 'img/19.jpg')">üõí A√±adir</button>
      </div>
    </div>

    <div class="card">
      <img src="img/20.jpg" alt="Vectorizaci√≥n">
      <h3>Vectorizaci√≥n</h3>
      <p>Vectorizado y escalado para impresi√≥n y merchandising.</p>
      <div class="precio-carrito">
        <span class="precio">S/ 20.00</span>
        <button onclick="agregarAlCarrito(10, 'Vectorizaci√≥n', 20, 'img/20.jpg')">üõí A√±adir</button>
      </div>
    </div>

  </div>

  <!-- CONTENIDO AGREGADO POR USUARIOS -->
  <h2 class="titulo">Trabajos Subidos por la Comunidad</h2>
  <div id="galeriaUser" class="grid"></div>

  <!-- SCRIPTS FUNCIONALES -->
  <script src="Scripts/carrito.js"></script>
  <script src="Scripts/sesion-global.js"></script>
  <script src="Scripts/script.js"></script>

  <script>
      document.addEventListener("DOMContentLoaded", () => {

          const nombre = sessionStorage.getItem("nombre");
          const foto   = sessionStorage.getItem("foto");

          const userBox = document.getElementById("navbarUserBox");
          const btnLogin = document.getElementById("btnLoginHeader");

          if (!nombre) {
              // NO HAY USUARIO ‚Üí Mostrar bot√≥n iniciar sesi√≥n
              btnLogin.style.display = "block";
              userBox.innerHTML = "";
              return;
          }

          // S√ç HAY USUARIO ‚Üí Mostrar foto + nombre
          btnLogin.style.display = "none";

          userBox.innerHTML = `
              <div class="user-mini-box">
                  <img src="${foto && foto !== '' ? 'uploads/' + foto : 'img/default.png'}">
                  <span>${nombre}</span>
              </div>
          `;
      });
  </script>

</body>
</html>
